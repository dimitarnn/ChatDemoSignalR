@model ChatRoom

<div class="row" id="info">
    <h5 class="col-2" id="roomName">@Model.RoomName</h5>
    <h4 class="col-6" id="username">Logged as: @(_signInManager.IsSignedIn(User) ? User.Identity.Name : "Anonymous")</h4>
    <div id="user" hidden>@User.Identity.Name</div>
    <form>
        @*<div class="form-group" style="display: flex;">
            <label class="control-label">Choose a cypher: </label>
            <input id="cypher" type="text" value="1" />
        </div>*@
        <div class="input-group input-group-sm">
            <div class="input-group-prepend">
                <span class="input-group-text">Choose a cypher</span>
            </div>
            <input id="cypher" type="number" value="1" />
        </div>
    </form>
</div>


@*<textarea name="message" id="message"></textarea>
<input type="button" id="groupSendButton" value="Send Message" />*@

<div class="row">
    <div id="messages">
        @foreach (var message in Model.Messages)
        {

            @if (message.Sender == User.Identity.Name)
            {
                <div class="message">
                    <header>@message.SendTime</header>
                    <p><span class="sender" style="color: #e053b3">@message.Sender: </span><span class="text">@message.Text</span></p>
                </div>
            }
            else
            {
                <div class="message">
                    <header>@message.SendTime</header>
                    <p><span class="sender">@message.Sender: </span><span class="text">@message.Text</span></p>
                </div>
            }
        }
    </div>
</div>


<form>
    <div class="chat-input">
        <div class="input-group input-group-sm">
            <div class="input-group-prepend">
                <span class="input-group-text">Choose a key</span>
            </div>
            <input id="key" type="number" value="1" />
        </div>
        <div class="input-group mb-3">
            @*<input type="text" id="message" placeholder="Your message" class="form-control" name="message" />*@
            <textarea id="message" placeholder="Your message" name="message" class="form-control"></textarea>
            <div class="input-group-append">
                <button class="btn btn-outline-secondary" type="button" id="groupSendButton">Send Message</button>
            </div>
        </div>
        @*<div class="form-group" style="display: flex;">
                <label class="control-label">Choose a key: </label>
                <input id="key" type="text" value="1" />
            </div>
            <input type="text" id="message" name="message" />
            <button type="button" id="groupSendButton">Send Message</button>*@
    </div>
</form>


<script>
    var ChatRoomMessages = @Html.Raw(Json.Serialize(Model.Messages));
    console.log('ChatRoomMessages: + + ')
    console.log(ChatRoomMessages);
</script>